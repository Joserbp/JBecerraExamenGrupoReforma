
@{
    ViewBag.Title = "Form";
    Layout = "~/Views/Shared/_Layout.cshtml";
}

<h2> Formulario </h2>

<form name="formDatos" action="/" method="post">
    <table>
        <tr>
            <td>Nombre</td>
            <td><input id="txtNombre" type="text" value="" onkeypress="return validar(event,'lblErrorNombre')" /></td>
            <td><label id="lblErrorNombre"></label></td>
        </tr>
        <tr>
            <td>Direccion</td>
            <td><input id="txtDireccion" type="text" value=" " onkeypress="return validar(event,'lblErrorDireccion')" /></td>
            <td><label id="lblErrorDireccion"></label></td>
        </tr>
        <tr>
            <td>Edad</td>
            <td><input id="txtEdad" type="text" value=" " onkeypress="return edad(event, 'lblErrorEdad')" onblur="return rango(event, 'lblErrorEdad')" /></td>
            <td><label id="lblErrorEdad"></label></td>
        </tr>
        <tr>
            <td>Correo</td>
            <td><input name="txtCorreo" type="text" value=" " onkeypress="return validar(event,'lblErrorCorreo')" /></td>
            <td><label id="lblErrorCorreo"></label></td>
        </tr>
        <tr>
            <td>Habilidad Principal</td>
            <td><input id="txtPrincipal" type="text" value=" " onkeypress="return validar(event,'lblErrorPrincipal')" /></td>
            <td><label id="lblErrorPrincipal"></label></td>
        </tr>
        <tr>
            <td>Habilidad Secundaria</td>
            <td><input id="txtSecundaria" type="text" value=" " onkeypress="return validar(event, 'lblErrorSecundaria')" /></td>
            <td><label id="lblErrorSecundaria"></label></td>
        </tr>
        <tr>
            <td colspan="2"><input type="submit" value="Submit" /></td>
        </tr>
    </table>
</form>

<script>
    function validar(e, controlId) {
        var caracter = e.key;
        if (caracter.lenght == 0 || /^\s+$/.test(caracter) || !/^[a-zA-Z]*$/g.test(caracter)) {
            $('#' + controlId).text("Solo se aceptan letras");
            $('#' + controlId).css({ "color": "red" });
            return false;
        }
        else {
            $('#' + controlId).text("");
            return true;
        }
    }

        function edad(e, controlId) {
            var caracter = e.key;
            if (isNaN(caracter) || /^\s+$/.test(caracter)) {
                $('#' + controlId).text("Solo se aceptan numeros");
                $('#' + controlId).css({ "color": "red" });
                return false
            }
            else {
                $('#' + controlId).text("");
                return true;
            }
        }
    
        function rango(e, controlId) {
            var caracter = $("#txtEdad").val();
            if (caracter < 10 || caracter > 90) {
                $('#' + controlId).text("El numero debe de estar entre 10 y 90");
                $('#' + controlId).css({ "color": "red" });
                return false
            }
            else {
                $('#' + controlId).text("");
                return true;
            }
        }
</script>